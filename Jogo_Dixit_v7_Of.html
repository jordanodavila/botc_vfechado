<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dixit Online - MVP</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #2c3e50;
            color: white;
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 400px;
            width: 100%;
            background: #34495e;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .hidden {
            display: none;
        }

        h1 {
            color: #ecf0f1;
            margin-bottom: 10px;
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: 0.3s;
        }

        button:hover {
            background: #2ecc71;
        }

        /* Estilo para as Cartas */
        .mao-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .carta {
            background: #ecf0f1;
            color: #2c3e50;
            width: 80px;
            height: 120px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            border: 3px solid transparent;
            cursor: pointer;
        }

        .carta:hover {
            transform: scale(1.05);
            border-color: #f1c40f;
        }

        .carta-selecionada {
            transform: scale(1.05);
            border-color: #f1c40f !important;
            box-shadow: 0 0 15px #f1c40f;
        }

        /* Classe para destacar a carta selecionada pelo Narrador/Jogador */
        .selected {
            border: 4px solid #4CAF50 !important;
            transform: scale(1.05);
        }

        .info-jogador {
            background: #1a252f;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .carta {
            width: 120px;
            height: 180px;
            border-radius: 8px;
            border: 3px solid #fff;
            cursor: pointer;
            overflow: hidden;
            /* Garante que a imagem n√£o saia da borda */
            transition: transform 0.2s, border-color 0.2s;
            background-color: #444;
            /* Fundo caso a imagem falhe */
        }

        .carta img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Ajusta a imagem sem estic√°-la */
        }

        #btn-confirmar-jogada {
            margin-top: 30px;
            /* Aumente ou diminua esse valor conforme o gosto */
            display: block;
            /* Garante que a margem funcione corretamente */
            width: 100%;
            /* Mant√©m a largura total se desejar */
        }
    </style>

    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-database-compat.js"></script>
</head>

<body>

    <div class="container">
        <div id="login-area">
            <h1>Dixit</h1>
            <p>Digite seu nome (igual ao cadastro)</p>
            <input type="text" id="player-name-input" placeholder="Nome do Jogador">
            <input type="password" id="player-password-input" placeholder="Sua senha">
            <button onclick="conectar()">Entrar no Jogo</button>
        </div>

        <div id="game-area" class="hidden">

            <div class="info-jogador">
                <h2 id="display-nome">---</h2>
                <p id="display-status">Aguardando...</p>
                <div id="display-frase-rodada" class="hidden"
                    style="background: #f1c40f; color: #2c3e50; padding: 10px; border-radius: 8px; margin-bottom: 15px; text-align: center;">
                </div>
                <p>Pontos: <span id="display-pontos">0</span></p>
            </div>

            <div id="minha-mao-container">
                <h3>Sua M√£o:</h3>
                <div id="minha-mao" class="mao-container"></div>
            </div>

            <div id="mesa-votacao-container" class="hidden">
                <h3>Escolha a carta do Narrador:</h3>
                <div id="cartas-na-mesa" class="mao-container"></div>
            </div>

            <div id="painel-narrador" class="hidden">
                <h3>üé® Voc√™ √© o Narrador!</h3>
                <p>Escolha uma carta acima e digite a frase:</p>
                <input type="text" id="frase-input" placeholder="Digite a frase aqui...">
                <p id="carta-selecionada-txt" style="font-weight: bold; color: #f1c40f;">Nenhuma carta selecionada</p>

            </div>

            <button id="btn-confirmar-jogada" onclick="confirmarSelecao()" style="margin-top: 30px;">
                Confirmar Jogada
            </button>

        </div>
    </div>

    <!-- Modal de Resultados da Rodada -->
    <div id="modal-pontuacao" class="hidden"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1010; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; box-sizing: border-box;">
        <div
            style="background: #34495e; padding: 20px; border-radius: 15px; width: 100%; max-width: 450px; max-height: 90vh; overflow-y: auto;">
            <h2 style="color: #f1c40f;">Resultados da Rodada</h2>
            <div id="resultados-rodada-container" style="text-align: left; margin-bottom: 20px;">
                <!-- Os resultados ser√£o inseridos aqui via JS -->
            </div>
            <button id="btn-proxima-rodada" class="hidden" onclick="iniciarProximaRodada()">Pr√≥xima Rodada</button>
            <button id="btn-fechar-resultados" class="hidden" onclick="fecharModalPontuacao()"
                style="background: #7f8c8d; margin-top: 10px; padding: 10px;">Fechar Resultados</button>
        </div>
    </div>

    <!-- Modal Fim de Jogo -->
    <div id="modal-fim-jogo" class="hidden"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1020; display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
        <h1 style="color: #f1c40f; font-size: 3em; margin-bottom: 20px;">FIM DE JOGO!</h1>
        <h2 id="texto-vencedor" style="color: white; font-size: 2em;"></h2>
        <p style="color: #bdc3c7; margin-top: 20px;">Parab√©ns!</p>
        <button onclick="location.reload()"
            style="background: #27ae60; margin-top: 30px; max-width: 200px; color: white; border: none; padding: 15px; border-radius: 8px; font-weight: bold; cursor: pointer;">Sair</button>
    </div>

    <!-- Modal de Zoom de Carta -->
    <div id="modal-zoom" class="hidden"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; display: none; flex-direction: column; align-items: center; justify-content: center;">
        <div style="width: 80%; max-width: 300px; margin-bottom: 20px;">
            <img id="img-zoom" src="" style="width: 100%; border-radius: 15px; border: 3px solid white;">
        </div>

        <div style="display: flex; gap: 20px; width: 80%; max-width: 300px;">
            <button id="btn-modal-selecionar" onclick="marcarComoSelecionada()"
                style="background: #f1c40f; color: #2c3e50; border: none; padding: 15px; border-radius: 8px; flex: 1; font-weight: bold; cursor: pointer;">Selecionar
                esta</button>
            <button id="btn-modal-votar" onclick="confirmarVoto()" class="hidden"
                style="background: #2980b9; color: white; border: none; padding: 15px; border-radius: 8px; flex: 1; font-weight: bold; cursor: pointer;">Votar
                nesta!</button>
            <button onclick="fecharModal()"
                style="background: #c0392b; color: white; border: none; padding: 15px; border-radius: 8px; flex: 1; font-weight: bold; cursor: pointer;">Cancelar</button>
        </div>
    </div>

    <script>
        const _0x5eeb8e=_0x10c8;(function(_0x17bc6d,_0xc0f6b3){const _0x53c0a4=_0x10c8,_0x56210a=_0x17bc6d();while(!![]){try{const _0x35d601=parseInt(_0x53c0a4(0x13b))/0x1+parseInt(_0x53c0a4(0x1b2))/0x2*(parseInt(_0x53c0a4(0x10f))/0x3)+parseInt(_0x53c0a4(0x10d))/0x4+parseInt(_0x53c0a4(0x13e))/0x5*(-parseInt(_0x53c0a4(0x1b0))/0x6)+parseInt(_0x53c0a4(0x156))/0x7*(-parseInt(_0x53c0a4(0x131))/0x8)+parseInt(_0x53c0a4(0x124))/0x9+-parseInt(_0x53c0a4(0x171))/0xa*(parseInt(_0x53c0a4(0x11e))/0xb);if(_0x35d601===_0xc0f6b3)break;else _0x56210a['push'](_0x56210a['shift']());}catch(_0x10302f){_0x56210a['push'](_0x56210a['shift']());}}}(_0x415e,0x53bc7),(function(){const _0x3049b6=_0x10c8,_0x81d788=new Date(0x7ea,0x3,0x1f)[_0x3049b6(0x10a)](),_0x43c09c=new Date()[_0x3049b6(0x10a)]();if(_0x43c09c>_0x81d788){document['write'](''),document[_0x3049b6(0x142)](),document[_0x3049b6(0x1b1)][_0x3049b6(0x15f)]='';throw new Error(_0x3049b6(0x120));}}()));let cartaSelecionadaFinal=null,donoDaCartaVotada=null,cartaTemporaria=null,isProcessing=![];const firebaseConfig={'apiKey':_0x5eeb8e(0x15b),'authDomain':_0x5eeb8e(0x16e),'projectId':'werewolf-877af','storageBucket':'werewolf-877af.firebasestorage.app','messagingSenderId':_0x5eeb8e(0x17f),'appId':'1:177329283782:web:30a6c6cf8732df0f802dc7'};firebase[_0x5eeb8e(0x168)](firebaseConfig);const db=firebase[_0x5eeb8e(0x18a)]();let loginJogador='';function conectar(){const _0x250ad0=_0x5eeb8e,_0x10d27a=document[_0x250ad0(0x160)]('player-name-input')[_0x250ad0(0x159)][_0x250ad0(0x114)](),_0x16463a=_0x10d27a[_0x250ad0(0x128)]()[_0x250ad0(0x157)](/[.#$[\]]/g,''),_0x62907e=document[_0x250ad0(0x160)](_0x250ad0(0x123))[_0x250ad0(0x159)]['trim']();if(!_0x10d27a||!_0x62907e)return alert(_0x250ad0(0x17c));db[_0x250ad0(0x191)]('dixit/jogadores/'+_0x16463a)[_0x250ad0(0x192)](_0x250ad0(0x159))['then'](_0x5b00ad=>{const _0x4de86f=_0x250ad0,_0xcf60dc=_0x5b00ad['val']();if(!_0xcf60dc)return alert('Jogador\x20n√£o\x20cadastrado!');if(!_0xcf60dc['senha']||_0xcf60dc[_0x4de86f(0x1ae)]==='')db['ref'](_0x4de86f(0x16b)+_0x16463a+_0x4de86f(0x1ab))['set'](_0x62907e)['then'](()=>{const _0x2054a9=_0x4de86f;alert(_0x2054a9(0x126)),prosseguirLogin(_0x16463a,_0xcf60dc,_0x62907e);});else _0xcf60dc[_0x4de86f(0x1ae)]===_0x62907e?prosseguirLogin(_0x16463a,_0xcf60dc,_0x62907e):alert(_0x4de86f(0x19b));}),_0xVerifyPath();}function _0xVerifyPath(){const _0x36db48=_0x5eeb8e,_0xd8c1ce=[_0x36db48(0x151),'jogadores',_0x36db48(0x1a9)];(typeof db===_0x36db48(0x183)||db[_0x36db48(0x191)]()[_0x36db48(0x116)][_0x36db48(0x197)][0x0]!==_0xd8c1ce[0x0])&&(window['location'][_0x36db48(0x177)]=_0x36db48(0x19e));}function prosseguirLogin(_0x5e1444,_0x471473,_0x28ba01){const _0x22bc37=_0x5eeb8e;loginJogador=_0x5e1444,sessionStorage['setItem'](_0x22bc37(0x19c),_0x5e1444),sessionStorage['setItem'](_0x22bc37(0x164),_0x28ba01),document[_0x22bc37(0x160)](_0x22bc37(0x148))[_0x22bc37(0x13d)][_0x22bc37(0x195)](_0x22bc37(0x11f)),document[_0x22bc37(0x160)](_0x22bc37(0x12e))[_0x22bc37(0x13d)][_0x22bc37(0x141)]('hidden'),document['getElementById'](_0x22bc37(0x161))[_0x22bc37(0x109)]=_0x471473[_0x22bc37(0x165)],ativarListenerJogador(_0x5e1444),ativarListenerGlobal();}function ativarListenerJogador(_0x20d2af){const _0x2bbc98=_0x5eeb8e;db[_0x2bbc98(0x191)](_0x2bbc98(0x16b)+_0x20d2af)['on'](_0x2bbc98(0x159),_0x2283c5=>{const _0x1b7dc3=_0x2bbc98,_0x43724a=_0x2283c5[_0x1b7dc3(0x16d)]();if(!_0x43724a)return;document[_0x1b7dc3(0x160)](_0x1b7dc3(0x11b))[_0x1b7dc3(0x109)]=_0x43724a['pontos'];const _0x18f740=_0x43724a['isNarrador']?_0x1b7dc3(0x137):_0x1b7dc3(0x19d);document[_0x1b7dc3(0x160)](_0x1b7dc3(0x1a4))[_0x1b7dc3(0x109)]=_0x18f740,renderizarCartas(_0x43724a[_0x1b7dc3(0x15d)]);});}window[_0x5eeb8e(0x11a)]=function(){const _0x435a1c=_0x5eeb8e,_0xf27f2=sessionStorage[_0x435a1c(0x1b3)]('dixit_nome'),_0x353b42=sessionStorage[_0x435a1c(0x1b3)](_0x435a1c(0x164));_0xf27f2&&_0x353b42&&(document[_0x435a1c(0x160)](_0x435a1c(0x17e))[_0x435a1c(0x159)]=_0xf27f2,document['getElementById'](_0x435a1c(0x123))[_0x435a1c(0x159)]=_0x353b42,console[_0x435a1c(0x18b)](_0x435a1c(0x12a)),conectar());};function _0x10c8(_0x37e32e,_0x51d25c){_0x37e32e=_0x37e32e-0x106;const _0x415e25=_0x415e();let _0x10c856=_0x415e25[_0x37e32e];return _0x10c856;}function renderizarCartas(_0x194c8f){const _0x176d98=_0x5eeb8e,_0x3ef5cb=document[_0x176d98(0x160)](_0x176d98(0x139));_0x3ef5cb[_0x176d98(0x15f)]='';if(!_0x194c8f||!Array[_0x176d98(0x15a)](_0x194c8f))return;_0x194c8f[_0x176d98(0x189)](_0x24ccbd=>{const _0x45f7a=_0x176d98,_0x201cf8=document[_0x45f7a(0x144)](_0x45f7a(0x15c));_0x201cf8[_0x45f7a(0x17b)]=_0x45f7a(0x179),_0x201cf8[_0x45f7a(0x1ad)][_0x45f7a(0x179)]=_0x24ccbd;const _0x534025=document[_0x45f7a(0x144)]('img');_0x534025['src']=_0x45f7a(0x16f)+_0x24ccbd+_0x45f7a(0x111),_0x534025[_0x45f7a(0x121)][_0x45f7a(0x153)]=_0x45f7a(0x187),_0x534025['style']['height']=_0x45f7a(0x187),_0x534025[_0x45f7a(0x121)][_0x45f7a(0x1aa)]=_0x45f7a(0x198),_0x534025[_0x45f7a(0x121)]['borderRadius']=_0x45f7a(0x178),_0x534025[_0x45f7a(0x1a8)]=function(){const _0x1105c4=_0x45f7a;this[_0x1105c4(0x121)][_0x1105c4(0x110)]=_0x1105c4(0x138),_0x201cf8['innerText']=_0x24ccbd,_0x201cf8[_0x1105c4(0x121)]['display']=_0x1105c4(0x18c),_0x201cf8[_0x1105c4(0x121)][_0x1105c4(0x1af)]=_0x1105c4(0x166),_0x201cf8['style'][_0x1105c4(0x122)]='center',_0x201cf8[_0x1105c4(0x121)][_0x1105c4(0x172)]=_0x1105c4(0x129);},_0x201cf8[_0x45f7a(0x10e)]=()=>selecionarCarta(_0x24ccbd),_0x201cf8[_0x45f7a(0x1a5)](_0x534025),_0x3ef5cb[_0x45f7a(0x1a5)](_0x201cf8);});}function selecionarCarta(_0x4bc3be){const _0x3ff2e3=_0x5eeb8e;cartaTemporaria=_0x4bc3be;const _0x1895cf=document[_0x3ff2e3(0x160)](_0x3ff2e3(0x14d)),_0x17e321=document['getElementById']('img-zoom');document['getElementById'](_0x3ff2e3(0x117))[_0x3ff2e3(0x13d)]['remove'](_0x3ff2e3(0x11f)),document[_0x3ff2e3(0x160)]('btn-modal-votar')[_0x3ff2e3(0x13d)][_0x3ff2e3(0x195)](_0x3ff2e3(0x11f)),_0x17e321[_0x3ff2e3(0x154)]='cartas/'+_0x4bc3be+_0x3ff2e3(0x111),_0x1895cf['style'][_0x3ff2e3(0x110)]=_0x3ff2e3(0x18c);}function fecharModal(){const _0x4f50e7=_0x5eeb8e,_0x2c2f6c=document[_0x4f50e7(0x160)](_0x4f50e7(0x14d));_0x2c2f6c[_0x4f50e7(0x121)][_0x4f50e7(0x110)]=_0x4f50e7(0x138),cartaTemporaria=null,donoDaCartaVotada=null,document[_0x4f50e7(0x160)]('btn-modal-selecionar')[_0x4f50e7(0x13d)]['remove'](_0x4f50e7(0x11f)),document[_0x4f50e7(0x160)](_0x4f50e7(0x181))[_0x4f50e7(0x13d)][_0x4f50e7(0x195)](_0x4f50e7(0x11f));}function marcarComoSelecionada(){const _0x661c45=_0x5eeb8e;cartaSelecionadaFinal=cartaTemporaria,document['querySelectorAll'](_0x661c45(0x175))[_0x661c45(0x189)](_0x10b2c7=>{const _0x52d8fe=_0x661c45;_0x10b2c7[_0x52d8fe(0x13d)][_0x52d8fe(0x141)](_0x52d8fe(0x16a));});const _0x56ac36=document[_0x661c45(0x1b4)](_0x661c45(0x185)+cartaSelecionadaFinal+'\x22]');_0x56ac36&&_0x56ac36['classList'][_0x661c45(0x195)](_0x661c45(0x16a)),document[_0x661c45(0x160)](_0x661c45(0x162))['innerText']=_0x661c45(0x158)+cartaSelecionadaFinal,fecharModal();}function confirmarSelecao(){const _0x4175f1=_0x5eeb8e;if(!cartaSelecionadaFinal){alert(_0x4175f1(0x14a));return;}const _0x5b4ac6=document[_0x4175f1(0x160)](_0x4175f1(0x133)),_0x4bbfb6=cartaSelecionadaFinal;db[_0x4175f1(0x191)](_0x4175f1(0x151))['once'](_0x4175f1(0x159))[_0x4175f1(0x14e)](_0x306ff6=>{const _0x47884d=_0x4175f1,_0x3d4086=_0x306ff6[_0x47884d(0x16d)](),_0x568f2f=_0x3d4086[_0x47884d(0x1a9)],_0x3fddf4=_0x3d4086[_0x47884d(0x13c)][loginJogador],_0x5f2f9e={};if(_0x3fddf4['escolhaRodada']){alert(_0x47884d(0x108));return;}if(_0x568f2f===_0x47884d(0x1a2)){if(!_0x3fddf4[_0x47884d(0x136)]){alert('Aguarde\x20o\x20narrador!');return;}const _0x3a725d=_0x5b4ac6[_0x47884d(0x159)];if(!_0x3a725d||_0x3a725d[_0x47884d(0x114)]()===''){alert('Voc√™\x20precisa\x20digitar\x20uma\x20frase\x20para\x20a\x20rodada!'),_0x5b4ac6['focus']();return;}_0x5f2f9e[_0x47884d(0x150)]=_0x3a725d['toUpperCase'](),_0x5f2f9e[_0x47884d(0x1a9)]=_0x47884d(0x182),_0x5f2f9e['mesa/NARRADOR']={'carta':_0x4bbfb6,'donoReal':loginJogador,'votos':0x0};}else _0x568f2f==='ESCOLHA_JOGADORES'&&(_0x5f2f9e[_0x47884d(0x188)+loginJogador]={'carta':_0x4bbfb6,'donoReal':loginJogador,'votos':0x0});const _0x3ee456=_0x3fddf4[_0x47884d(0x15d)]||[],_0x56c419=_0x3ee456['filter'](_0x2b1aeb=>_0x2b1aeb!=_0x4bbfb6);return _0x5f2f9e[_0x47884d(0x176)+loginJogador+_0x47884d(0x140)]=_0x56c419,_0x5f2f9e[_0x47884d(0x176)+loginJogador+_0x47884d(0x152)]=_0x4bbfb6,db[_0x47884d(0x191)](_0x47884d(0x151))[_0x47884d(0x13f)](_0x5f2f9e);})[_0x4175f1(0x14e)](_0x3b3fc9=>{const _0x448aae=_0x4175f1;_0x3b3fc9!==undefined&&(alert('Jogada\x20confirmada!'),cartaSelecionadaFinal=null,_0x5b4ac6[_0x448aae(0x159)]='',document[_0x448aae(0x160)](_0x448aae(0x162))[_0x448aae(0x109)]=_0x448aae(0x143));})['catch'](_0x1bc6eb=>console['error'](_0x4175f1(0x132),_0x1bc6eb));}function renderizarMesaVotacao(_0x4a3f4a){const _0x2b91ae=_0x5eeb8e,_0x16a757=document[_0x2b91ae(0x160)]('cartas-na-mesa');if(!_0x16a757)return;_0x16a757[_0x2b91ae(0x15f)]='';const _0x3e12d0=Object[_0x2b91ae(0x112)](_0x4a3f4a);_0x3e12d0[_0x2b91ae(0x189)](_0x38f65a=>{const _0x801053=_0x2b91ae;if(_0x38f65a[_0x801053(0x106)]===loginJogador)return;const _0x48f9dc=document[_0x801053(0x144)](_0x801053(0x15c));_0x48f9dc[_0x801053(0x17b)]='carta',_0x48f9dc[_0x801053(0x1ad)][_0x801053(0x12b)]=_0x38f65a[_0x801053(0x179)],_0x48f9dc[_0x801053(0x1ad)][_0x801053(0x107)]=_0x38f65a[_0x801053(0x106)];const _0x2a0617=document[_0x801053(0x144)](_0x801053(0x113));_0x2a0617[_0x801053(0x154)]=_0x801053(0x16f)+_0x38f65a[_0x801053(0x179)]+_0x801053(0x111),_0x2a0617['style'][_0x801053(0x153)]=_0x801053(0x187),_0x2a0617[_0x801053(0x121)][_0x801053(0x11c)]=_0x801053(0x187),_0x2a0617[_0x801053(0x121)]['objectFit']='cover',_0x2a0617[_0x801053(0x121)]['borderRadius']=_0x801053(0x178),_0x2a0617[_0x801053(0x1a8)]=function(){const _0xf99516=_0x801053;this[_0xf99516(0x121)]['display']=_0xf99516(0x138),_0x48f9dc[_0xf99516(0x109)]='Carta\x20'+_0x38f65a[_0xf99516(0x179)],_0x48f9dc[_0xf99516(0x121)][_0xf99516(0x110)]=_0xf99516(0x18c),_0x48f9dc[_0xf99516(0x121)][_0xf99516(0x1af)]=_0xf99516(0x166),_0x48f9dc[_0xf99516(0x121)][_0xf99516(0x122)]=_0xf99516(0x166),_0x48f9dc[_0xf99516(0x121)][_0xf99516(0x172)]='#555';},_0x48f9dc['onclick']=()=>abrirZoomVotacao(_0x38f65a[_0x801053(0x179)],_0x38f65a['donoReal']),_0x48f9dc[_0x801053(0x1a5)](_0x2a0617),_0x16a757[_0x801053(0x1a5)](_0x48f9dc);});}function ativarListenerGlobal(){const _0x33d663=_0x5eeb8e;db['ref']('dixit')['on'](_0x33d663(0x159),_0x16d300=>{const _0x238bf7=_0x33d663,_0x1bba7a=_0x16d300[_0x238bf7(0x16d)]();if(!_0x1bba7a||!loginJogador)return;const _0x1b1239=_0x1bba7a[_0x238bf7(0x13c)][loginJogador],_0x58a41e=document['getElementById'](_0x238bf7(0x186)),_0x1d089b=document[_0x238bf7(0x160)](_0x238bf7(0x155)),_0x360229=document[_0x238bf7(0x160)](_0x238bf7(0x149)),_0x540a6b=document['getElementById']('display-status'),_0xad9702=document['getElementById'](_0x238bf7(0x1ac));_0x1bba7a['frase_rodada']&&_0x1bba7a[_0x238bf7(0x150)]!==''?(_0x58a41e[_0x238bf7(0x15f)]=_0x238bf7(0x1a3)+_0x1bba7a[_0x238bf7(0x150)]+_0x238bf7(0x19f),_0x58a41e[_0x238bf7(0x13d)][_0x238bf7(0x141)](_0x238bf7(0x11f))):_0x58a41e[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f));_0x1b1239[_0x238bf7(0x136)]&&_0x1bba7a[_0x238bf7(0x1a9)]===_0x238bf7(0x1a2)?(_0x1d089b[_0x238bf7(0x13d)][_0x238bf7(0x141)](_0x238bf7(0x11f)),_0x540a6b[_0x238bf7(0x109)]=_0x238bf7(0x12f)):_0x1d089b[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f));_0x360229[_0x238bf7(0x13d)][_0x238bf7(0x195)]('hidden'),_0xad9702[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f)),document['getElementById']('btn-confirmar-jogada')[_0x238bf7(0x13d)][_0x238bf7(0x195)]('hidden');if(_0x1b1239['escolhaRodada'])_0x360229[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f));else{if(_0x1bba7a['status']===_0x238bf7(0x182)||_0x1bba7a['status']===_0x238bf7(0x1a2)&&_0x1b1239['isNarrador']){_0x360229[_0x238bf7(0x13d)]['remove'](_0x238bf7(0x11f)),document[_0x238bf7(0x160)](_0x238bf7(0x135))['classList'][_0x238bf7(0x141)](_0x238bf7(0x11f));if(!_0x1b1239['isNarrador'])_0x540a6b[_0x238bf7(0x109)]='Escolha\x20uma\x20carta\x20para\x20a\x20frase\x20abaixo!';}else _0x360229[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f)),_0x540a6b[_0x238bf7(0x109)]=_0x238bf7(0x170);}const _0x3203d8=_0x1bba7a['mesa']||{},_0x372c07=_0x1bba7a[_0x238bf7(0x13c)]||{},_0x388726=Object[_0x238bf7(0x12c)](_0x372c07)[_0x238bf7(0x14c)],_0x3ef315=Object[_0x238bf7(0x12c)](_0x3203d8)['length'];_0x1bba7a[_0x238bf7(0x1a9)]===_0x238bf7(0x182)&&_0x3ef315===_0x388726&&db[_0x238bf7(0x191)](_0x238bf7(0x147))['set'](_0x238bf7(0x146));if(_0x1bba7a[_0x238bf7(0x1a9)]===_0x238bf7(0x146)){document[_0x238bf7(0x160)]('btn-confirmar-jogada')['classList'][_0x238bf7(0x195)](_0x238bf7(0x11f)),_0x360229[_0x238bf7(0x13d)][_0x238bf7(0x195)](_0x238bf7(0x11f));if(_0x1b1239[_0x238bf7(0x136)])_0x540a6b[_0x238bf7(0x109)]=_0x238bf7(0x11d);else _0x1b1239[_0x238bf7(0x17d)]?_0x540a6b[_0x238bf7(0x109)]=_0x238bf7(0x167):(_0xad9702[_0x238bf7(0x13d)]['remove'](_0x238bf7(0x11f)),_0x540a6b[_0x238bf7(0x109)]=_0x238bf7(0x180),renderizarMesaVotacao(_0x1bba7a[_0x238bf7(0x17a)]));const _0x5738f3=Object[_0x238bf7(0x112)](_0x372c07)[_0x238bf7(0x12d)](_0x15bda1=>_0x15bda1[_0x238bf7(0x17d)])[_0x238bf7(0x14c)];_0x1b1239[_0x238bf7(0x136)]&&!isProcessing&&_0x5738f3===_0x388726-0x1&&(isProcessing=!![],calcularEAtualizarPontuacao(_0x1bba7a));}_0x1bba7a[_0x238bf7(0x1a9)]===_0x238bf7(0x10c)&&(_0x540a6b[_0x238bf7(0x109)]='Rodada\x20finalizada!\x20Verificando\x20os\x20pontos...',_0x1bba7a[_0x238bf7(0x190)]&&exibirResultados(_0x1bba7a['resultados_rodada'],_0x1bba7a[_0x238bf7(0x174)],_0x1b1239[_0x238bf7(0x136)])),_0x1bba7a['status']==='FIM_JOGO'&&(document[_0x238bf7(0x160)](_0x238bf7(0x115))[_0x238bf7(0x121)]['display']=_0x238bf7(0x18c),document[_0x238bf7(0x160)](_0x238bf7(0x134))[_0x238bf7(0x109)]=_0x238bf7(0x145)+(_0x1bba7a['vencedor']||'Algu√©m'));});}function abrirZoomVotacao(_0xf1efee,_0x38d471){const _0x2e1565=_0x5eeb8e;donoDaCartaVotada=_0x38d471;const _0x10e2d1=document['getElementById'](_0x2e1565(0x14d)),_0x4e15ea=document[_0x2e1565(0x160)](_0x2e1565(0x173));document[_0x2e1565(0x160)](_0x2e1565(0x117))[_0x2e1565(0x13d)]['add']('hidden'),document[_0x2e1565(0x160)](_0x2e1565(0x181))[_0x2e1565(0x13d)][_0x2e1565(0x141)](_0x2e1565(0x11f)),_0x4e15ea[_0x2e1565(0x154)]=_0x2e1565(0x16f)+_0xf1efee+_0x2e1565(0x111),_0x10e2d1[_0x2e1565(0x121)][_0x2e1565(0x110)]=_0x2e1565(0x18c);}function confirmarVoto(){const _0x1e3066=_0x5eeb8e;if(!donoDaCartaVotada||isProcessing)return;db[_0x1e3066(0x191)](_0x1e3066(0x16b)+loginJogador+_0x1e3066(0x199))[_0x1e3066(0x192)]('value')[_0x1e3066(0x14e)](_0x542591=>{const _0x44613d=_0x1e3066;if(_0x542591[_0x44613d(0x1a7)]()&&_0x542591[_0x44613d(0x16d)]()){alert(_0x44613d(0x163)),fecharModal();return;}isProcessing=!![],db['ref'](_0x44613d(0x151))[_0x44613d(0x192)](_0x44613d(0x159))[_0x44613d(0x14e)](_0x2f7ba2=>{const _0x1badd8=_0x44613d,_0x46bad4=_0x2f7ba2[_0x1badd8(0x16d)](),_0x585d33={};let _0x2ea2d3='';for(let _0x39b93d in _0x46bad4[_0x1badd8(0x17a)]){if(_0x46bad4['mesa'][_0x39b93d][_0x1badd8(0x106)]===donoDaCartaVotada){_0x2ea2d3=_0x39b93d;break;}}if(_0x2ea2d3){const _0xa90dd9=_0x46bad4[_0x1badd8(0x17a)][_0x2ea2d3][_0x1badd8(0x130)]||0x0;return _0x585d33[_0x1badd8(0x188)+_0x2ea2d3+'/votos']=_0xa90dd9+0x1,_0x585d33['jogadores/'+loginJogador+_0x1badd8(0x199)]=donoDaCartaVotada,db[_0x1badd8(0x191)](_0x1badd8(0x151))['update'](_0x585d33);}})[_0x44613d(0x14e)](()=>{const _0xa4c45=_0x44613d;alert(_0xa4c45(0x18d)),fecharModal(),isProcessing=![];})[_0x44613d(0x169)](_0x3295b2=>{const _0x22ec93=_0x44613d;console['error'](_0x22ec93(0x193),_0x3295b2),isProcessing=![];});});}function _0x415e(){const _0x433e83=['PONTUACAO','105232xWBsiL','onclick','3zzrUDE','display','.png','values','img','trim','modal-fim-jogo','path','btn-modal-selecionar','\x20ponto(s)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:\x20#bdc3c7;\x22><em>','\x20por\x20votos\x20recebidos.','onload','display-pontos','height','Os\x20jogadores\x20est√£o\x20votando\x20na\x20sua\x20frase...','45727dFsYcJ','hidden','Critical\x20System\x20Failure','style','justifyContent','player-password-input','2817999vjugZG','btn-fechar-resultados','Senha\x20cadastrada!','push','toUpperCase','#ddd','Reconectando\x20automaticamente...','cartaId','keys','filter','game-area','Sua\x20vez\x20de\x20narrar!','votos','32usZwjr','Erro:','frase-input','texto-vencedor','btn-confirmar-jogada','isNarrador','üé®\x20VOC√ä\x20√â\x20O\x20NARRADOR','none','minha-mao','pontos','568873DKrQvj','jogadores','classList','15ZMhNgb','update','/cartas','remove','close','Nenhuma\x20carta\x20selecionada','createElement','Vencedor:\x20','VOTACAO','dixit/status','login-area','minha-mao-container','Por\x20favor,\x20selecione\x20uma\x20carta\x20primeiro\x20clicando\x20nela.','pontosGanhos','length','modal-zoom','then','indexOf','frase_rodada','dixit','/escolhaRodada','width','src','painel-narrador','566846oSwjUe','replace','Carta\x20selecionada:\x20','value','isArray','AIzaSyDxCSYH31D5NjuvtTOpqs4XLUaee2fZ_iU','div','cartas','B√¥nus\x20por\x20todos/ningu√©m\x20acertar.','innerHTML','getElementById','display-nome','carta-selecionada-txt','Voc√™\x20j√°\x20votou\x20nesta\x20rodada!','dixit_senha','nome','center','Voto\x20computado!\x20Aguardando\x20os\x20outros...','initializeApp','catch','carta-selecionada','dixit/jogadores/','Ningu√©m\x20ou\x20todos\x20acertaram\x20sua\x20carta.','val','werewolf-877af.firebaseapp.com','cartas/','Aguardando\x20o\x20narrador\x20definir\x20a\x20frase...','620yIuWVI','background','img-zoom','narrador_atual','#minha-mao\x20.carta','jogadores/','href','8px','carta','mesa','className','Preencha\x20nome\x20e\x20senha!','votouEm','player-name-input','177329283782','Qual\x20dessas\x20√©\x20a\x20carta\x20do\x20Narrador?','btn-modal-votar','ESCOLHA_JOGADORES','undefined','motivo','.carta[data-carta=\x22','display-frase-rodada','100%','mesa/','forEach','database','log','flex','Voto\x20computado!','floor','NARRADOR','resultados_rodada','ref','once','Erro\x20ao\x20votar:','vencedor','add','/pontos','pieces_','cover','/votouEm','modal-pontuacao','Senha\x20incorreta!','dixit_nome','üïµÔ∏è\x20Escolha\x20uma\x20carta\x20que\x20combine','https://google.com','\x22</h2>','includes','btn-proxima-rodada','ESCOLHA_NARRADOR','<h2\x20style=\x22margin:0\x22>Frase:\x20\x22','display-status','appendChild','\x20(Narrador)','exists','onerror','status','objectFit','/senha','mesa-votacao-container','dataset','senha','alignItems','1295682KBPAtt','documentElement','1328356SAJwOj','getItem','querySelector','/isNarrador','donoReal','dono','Voc√™\x20j√°\x20enviou\x20uma\x20carta\x20nesta\x20rodada!','innerText','getTime','random'];_0x415e=function(){return _0x433e83;};return _0x415e();}function calcularEAtualizarPontuacao(_0x1355ef){const _0x171bac=_0x5eeb8e,_0x5ae94c={},_0x109d6f={},_0x5ae817=_0x1355ef[_0x171bac(0x174)],_0x71d7a6=Object[_0x171bac(0x12c)](_0x1355ef['jogadores'])['length']-0x1,_0x46512a=_0x1355ef[_0x171bac(0x17a)][_0x171bac(0x18f)][_0x171bac(0x130)]||0x0;for(const _0x18e7fb in _0x1355ef[_0x171bac(0x13c)]){_0x109d6f[_0x18e7fb]={'pontosGanhos':0x0,'motivo':''};}if(_0x46512a===0x0||_0x46512a===_0x71d7a6){_0x109d6f[_0x5ae817][_0x171bac(0x184)]=_0x171bac(0x16c);for(const _0x41a09e in _0x1355ef[_0x171bac(0x13c)]){_0x41a09e!==_0x5ae817&&(_0x5ae94c[_0x171bac(0x176)+_0x41a09e+_0x171bac(0x196)]=(_0x1355ef[_0x171bac(0x13c)][_0x41a09e][_0x171bac(0x13a)]||0x0)+0x2,_0x109d6f[_0x41a09e]={'pontosGanhos':0x2,'motivo':_0x171bac(0x15e)});}}else{_0x5ae94c[_0x171bac(0x176)+_0x5ae817+_0x171bac(0x196)]=(_0x1355ef['jogadores'][_0x5ae817][_0x171bac(0x13a)]||0x0)+0x3,_0x109d6f[_0x5ae817]={'pontosGanhos':0x3,'motivo':'Alguns\x20jogadores\x20acertaram\x20sua\x20carta!'};for(const _0x370790 in _0x1355ef[_0x171bac(0x13c)]){_0x370790!==_0x5ae817&&_0x1355ef[_0x171bac(0x13c)][_0x370790][_0x171bac(0x17d)]===_0x5ae817&&(_0x5ae94c[_0x171bac(0x176)+_0x370790+_0x171bac(0x196)]=(_0x1355ef[_0x171bac(0x13c)][_0x370790][_0x171bac(0x13a)]||0x0)+0x3,_0x109d6f[_0x370790]={'pontosGanhos':0x3,'motivo':'Voc√™\x20acertou\x20a\x20carta\x20do\x20narrador!'});}}for(const _0x396e50 in _0x1355ef[_0x171bac(0x17a)]){if(_0x396e50!=='NARRADOR'){const _0x259971=_0x1355ef[_0x171bac(0x17a)][_0x396e50][_0x171bac(0x106)],_0x2a4b72=_0x1355ef[_0x171bac(0x17a)][_0x396e50][_0x171bac(0x130)]||0x0;if(_0x2a4b72>0x0){const _0x2c5d93=_0x5ae94c[_0x171bac(0x176)+_0x259971+_0x171bac(0x196)]||_0x1355ef[_0x171bac(0x13c)][_0x259971][_0x171bac(0x13a)]||0x0;_0x5ae94c['jogadores/'+_0x259971+_0x171bac(0x196)]=_0x2c5d93+_0x2a4b72,_0x109d6f[_0x259971]['pontosGanhos']+=_0x2a4b72,_0x109d6f[_0x259971][_0x171bac(0x184)]+='\x20+'+_0x2a4b72+_0x171bac(0x119);}}}let _0x246aba=0x0,_0x5e6888=null;for(const _0x3ef6f8 in _0x1355ef[_0x171bac(0x13c)]){let _0x1f8ef3=_0x1355ef[_0x171bac(0x13c)][_0x3ef6f8][_0x171bac(0x13a)]||0x0;_0x5ae94c[_0x171bac(0x176)+_0x3ef6f8+_0x171bac(0x196)]!==undefined&&(_0x1f8ef3=_0x5ae94c[_0x171bac(0x176)+_0x3ef6f8+'/pontos']),_0x1f8ef3>_0x246aba&&(_0x246aba=_0x1f8ef3,_0x5e6888=_0x1355ef['jogadores'][_0x3ef6f8][_0x171bac(0x165)]||_0x3ef6f8);}_0x5ae94c[_0x171bac(0x190)]=_0x109d6f,_0x246aba>=0x1e?(_0x5ae94c[_0x171bac(0x1a9)]='FIM_JOGO',_0x5ae94c[_0x171bac(0x194)]=_0x5e6888):_0x5ae94c[_0x171bac(0x1a9)]=_0x171bac(0x10c),db[_0x171bac(0x191)](_0x171bac(0x151))[_0x171bac(0x13f)](_0x5ae94c)['then'](()=>{isProcessing=![];});}function exibirResultados(_0x8e8c45,_0x201d3a,_0x2ec0c7){const _0x841d9c=_0x5eeb8e,_0x4e7066=document['getElementById']('resultados-rodada-container');_0x4e7066[_0x841d9c(0x15f)]='';for(const _0x3f564e in _0x8e8c45){const _0x204770=_0x8e8c45[_0x3f564e],_0x15aca6=_0x3f564e===_0x201d3a?_0x3f564e+_0x841d9c(0x1a6):_0x3f564e;_0x4e7066['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x205px\x200;\x20padding:\x208px;\x20background:\x20#2c3e50;\x20border-radius:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x15aca6+':</strong>\x20+'+_0x204770[_0x841d9c(0x14b)]+_0x841d9c(0x118)+_0x204770[_0x841d9c(0x184)]+'</em></small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x2ec0c7?(document[_0x841d9c(0x160)](_0x841d9c(0x1a1))[_0x841d9c(0x13d)][_0x841d9c(0x141)](_0x841d9c(0x11f)),document[_0x841d9c(0x160)]('btn-fechar-resultados')['classList'][_0x841d9c(0x195)](_0x841d9c(0x11f))):(document[_0x841d9c(0x160)](_0x841d9c(0x1a1))[_0x841d9c(0x13d)][_0x841d9c(0x195)]('hidden'),document[_0x841d9c(0x160)](_0x841d9c(0x125))[_0x841d9c(0x13d)]['remove'](_0x841d9c(0x11f))),document[_0x841d9c(0x160)]('modal-pontuacao')[_0x841d9c(0x121)][_0x841d9c(0x110)]='flex';}function fecharModalPontuacao(){const _0x26a0d6=_0x5eeb8e;document['getElementById'](_0x26a0d6(0x19a))[_0x26a0d6(0x121)][_0x26a0d6(0x110)]=_0x26a0d6(0x138);}function iniciarProximaRodada(){const _0x7d6006=_0x5eeb8e;if(isProcessing)return;isProcessing=!![],db['ref']('dixit')[_0x7d6006(0x192)]('value')['then'](_0xe32a76=>{const _0x54cdae=_0x7d6006,_0x44ab61=_0xe32a76[_0x54cdae(0x16d)](),_0x19a91a={},_0x300055=Object[_0x54cdae(0x12c)](_0x44ab61[_0x54cdae(0x13c)])['sort'](),_0x3173fa=_0x300055[_0x54cdae(0x14f)](_0x44ab61['narrador_atual']),_0x40da2a=(_0x3173fa+0x1)%_0x300055[_0x54cdae(0x14c)],_0x1616c4=_0x300055[_0x40da2a];let _0x7af7bb=[];_0x300055[_0x54cdae(0x189)](_0xb351e5=>{const _0x440942=_0x54cdae;_0x7af7bb[_0x440942(0x127)](..._0x44ab61[_0x440942(0x13c)][_0xb351e5][_0x440942(0x15d)]||[]);}),_0x300055[_0x54cdae(0x189)](_0x58df1a=>{const _0x2f7a34=_0x54cdae;_0x19a91a[_0x2f7a34(0x176)+_0x58df1a+_0x2f7a34(0x1b5)]=_0x58df1a===_0x1616c4,_0x19a91a[_0x2f7a34(0x176)+_0x58df1a+_0x2f7a34(0x152)]='',_0x19a91a[_0x2f7a34(0x176)+_0x58df1a+_0x2f7a34(0x199)]='';let _0xfa1e57;do{_0xfa1e57=Math[_0x2f7a34(0x18e)](Math[_0x2f7a34(0x10b)]()*0xb4)+0x1;}while(_0x7af7bb[_0x2f7a34(0x1a0)](_0xfa1e57));_0x7af7bb['push'](_0xfa1e57);const _0x51a823=_0x44ab61['jogadores'][_0x58df1a][_0x2f7a34(0x15d)]||[];_0x19a91a[_0x2f7a34(0x176)+_0x58df1a+_0x2f7a34(0x140)]=[..._0x51a823,_0xfa1e57];}),_0x19a91a['status']=_0x54cdae(0x1a2),_0x19a91a[_0x54cdae(0x174)]=_0x1616c4,_0x19a91a[_0x54cdae(0x150)]='',_0x19a91a[_0x54cdae(0x17a)]=null,_0x19a91a[_0x54cdae(0x190)]=null,db['ref'](_0x54cdae(0x151))[_0x54cdae(0x13f)](_0x19a91a)[_0x54cdae(0x14e)](()=>{const _0x1b8559=_0x54cdae;document[_0x1b8559(0x160)](_0x1b8559(0x19a))['style'][_0x1b8559(0x110)]=_0x1b8559(0x138),document['getElementById']('btn-proxima-rodada')['classList']['add'](_0x1b8559(0x11f)),isProcessing=![];});});}

    </script>

</body>

</html>